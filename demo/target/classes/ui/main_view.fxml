<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.editor.ui.MainController">

    <!-- ========== TOP BAR (FILE INPUT) ========== -->
    <top>
        <HBox spacing="8" alignment="CENTER_LEFT" styleClass="top-bar">
            <padding>
                <Insets top="8" right="8" bottom="8" left="8"/>
            </padding>
            <Label text="File:"/>
            <TextField fx:id="filePathField"
                       promptText="Choose an XML file or paste XML below"
                       HBox.hgrow="ALWAYS"/>
            <Button text="Browse..." onAction="#handleBrowseFile"/>
            <Button text="Load" onAction="#handleLoadFile"/>
        </HBox>
    </top>

    <!-- ========== CENTER SPLIT: INPUT + OUTPUT ========== -->
    <center>
        <SplitPane dividerPositions="0.5"><!-- Input -->
            <VBox spacing="4">
                <padding>
                    <Insets top="8" right="4" bottom="8" left="8"/>
                </padding>
                <Label text="Input XML" styleClass="section-title"/>
                <TextArea fx:id="inputTextArea"
                          promptText="Paste or write XML here..."
                          VBox.vgrow="ALWAYS"/>
            </VBox>

            <!-- Output -->
            <VBox spacing="4">
                <padding>
                    <Insets top="8" right="8" bottom="8" left="4"/>
                </padding>
                <Label text="Output" styleClass="section-title"/>
                <TextArea fx:id="outputTextArea"
                          editable="false"
                          promptText="Operation results will appear here..."
                          VBox.vgrow="ALWAYS"/>
            </VBox>

        </SplitPane>
    </center>

    <!-- ========== BOTTOM: BUTTON BAR + STATUS ========== -->
    <bottom>
        <VBox spacing="4">

            <!-- Buttons -->
            <HBox spacing="6" alignment="CENTER_LEFT" styleClass="button-bar">
                <padding>
                    <Insets top="6" right="8" bottom="2" left="8"/>
                </padding>
                <Button text="Verify" onAction="#handleVerify" styleClass="btn, btn-secondary"/>
                <Button text="Verify &amp; Fix" onAction="#handleVerifyFix" styleClass="btn, btn-primary"/>
                <Button text="Format" onAction="#handleFormat" styleClass="btn, btn-secondary"/>
                <Button text="Minify" onAction="#handleMinify" styleClass="btn, btn-secondary"/>
                <Button text="To JSON" onAction="#handleToJson" styleClass="btn, btn-accent"/>
                <Button text="Compress" onAction="#handleCompress" styleClass="btn, btn-secondary"/>
                <Button text="Decompress" onAction="#handleDecompress" styleClass="btn, btn-secondary"/>
                <Button text="Save Output" onAction="#handleSaveOutput" styleClass="btn, btn-success"/>
                <Button text="Clear" onAction="#handleClear" styleClass="btn, btn-warning"/>
            </HBox>


            <!-- Status bar -->
            <HBox spacing="4" alignment="CENTER_LEFT" styleClass="status-bar">
                <padding>
                    <Insets right="8" bottom="8" left="8"/>
                </padding>
                <Label text="Status:"/>
                <Label fx:id="statusLabel" text="Ready"/>
            </HBox>

        </VBox>
    </bottom>

</BorderPane>
